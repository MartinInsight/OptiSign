<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OptiSign Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
        }
        .container {
            max-width: 1600px; /* Increased max-width for wider layout */
            margin: 20px auto;
            padding: 10px; /* Reduced padding */
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        header {
            text-align: center;
            margin-bottom: 20px; /* Reduced margin */
            padding-bottom: 15px; /* Reduced padding */
            border-bottom: 1px solid #eee;
        }
        h1 {
            font-size: 2.5em;
            color: #003A52; /* Navy */
            margin-bottom: 10px;
            font-weight: 700;
        }
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px; /* Reduced gap */
        }
        @media (min-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr 2fr; /* Left sidebar, right main content */
            }
        }
        .sidebar {
            background-color: #f8f8f8;
            padding: 15px; /* Reduced padding */
            border-radius: 10px;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        .sidebar h2 {
            font-size: 1.5em;
            color: #00657e; /* Teal */
            margin-bottom: 10px; /* Reduced margin */
            font-weight: 600;
            border-bottom: 2px solid #00657e;
            padding-bottom: 5px;
        }
        .world-clock-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0; /* Reduced padding */
            border-bottom: 1px dashed #eee;
        }
        .world-clock-item:last-child {
            border-bottom: none;
        }
        .world-clock-item span {
            font-weight: 600;
            color: #003A52;
        }
        .chart-section {
            background-color: #fff;
            padding: 10px; /* Reduced padding */
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            margin-bottom: 15px; /* Reduced margin */
        }
        .chart-section h2 {
            font-size: 1.8em;
            color: #003A52;
            margin-bottom: 15px; /* Reduced margin */
            text-align: center;
            font-weight: 700;
        }
        .chart-container {
            position: relative;
            height: 450px; /* Adjusted height for charts */
            width: 100%;
            margin: 0 auto;
        }
        .chart-slider-container {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            background-color: #e9ecef;
            padding: 5px; /* Reduced padding significantly */
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
            height: 500px; /* Adjusted height for chart slider container */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .chart-slide {
            width: 100%;
            height: 100%;
            display: flex;
            opacity: 0;
            visibility: hidden;
            transition: opacity 1s ease-in-out, visibility 1s ease-in-out;
            position: absolute;
            top: 0;
            left: 0;
            padding: 5px; /* Reduced padding significantly */
            box-sizing: border-box;

            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 0;
        }
        .chart-slide.active {
            opacity: 1;
            visibility: visible;
            z-index: 10;
        }
        .placeholder-text {
            text-align: center;
            color: #666;
            font-style: italic;
            padding: 30px; /* Reduced padding */
        }
        footer {
            text-align: center;
            margin-top: 30px; /* Reduced margin */
            padding-top: 15px; /* Reduced padding */
            border-top: 1px solid #eee;
            color: #777;
            font-size: 0.9em;
        }
        /* New styles for top info slider */
        .top-info-slider-container {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            background-color: #e9ecef;
            padding: 10px; /* Reduced padding */
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
            height: 480px; /* Increased height for top info slider */
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px; /* Reduced margin */
        }
        .top-info-slide {
            display: none;
            width: 100%;
            height: 100%;
            text-align: center;
            font-size: 1.1em; /* Reduced font size */
            color: #003A52;
            flex-direction: column;
            justify-content: center;
            position: absolute; /* For slide transition */
            top: 0;
            left: 0;
            opacity: 0;
            visibility: hidden;
            transition: opacity 1s ease-in-out, visibility 1s ease-in-out;
        }
        .top-info-slide.active {
            display: flex;
            opacity: 1;
            visibility: visible;
        }
        .top-info-slide h3 {
            font-size: 1.6em; /* Reduced font size */
            margin-bottom: 8px; /* Reduced margin */
            color: #00657e;
        }
        .top-info-slide p {
            font-size: 1em; /* Reduced font size */
            color: #333;
        }
        /* Announcements Section */
        .announcements-section {
            background-color: #fff;
            padding: 15px; /* Reduced padding */
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            margin-bottom: 15px; /* Reduced margin */
        }
        .announcements-section h2 {
            font-size: 1.6em; /* Reduced font size */
            color: #003A52;
            margin-bottom: 15px;
            text-align: center;
            font-weight: 700;
        }
        .announcements-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .announcements-list li {
            padding: 8px 0; /* Reduced padding */
            border-bottom: 1px dashed #eee;
            color: #555;
            font-size: 0.9em; /* Reduced font size */
            text-align: left; /* Align text to left */
        }
        .announcements-list li:last-child {
            border-bottom: none;
        }
        /* Weather Specific Styles */
        .weather-current-info {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 10px; /* Reduced margin */
        }
        .weather-current-info #weather-icon-current {
            width: 70px; /* Reduced icon size */
            height: 70px; /* Reduced icon size */
            margin-bottom: 5px;
        }
        .weather-current-info #temperature-current {
            font-size: 2.5em; /* Reduced font size */
            font-weight: bold;
            color: #00657e;
        }
        .weather-current-info #status-current {
            font-size: 1.1em; /* Reduced font size */
            color: #555;
            text-transform: capitalize;
        }
        .weather-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px; /* Reduced gap */
            width: 95%; /* Increased width */
            margin-top: 10px;
            font-size: 0.8em; /* Reduced font size */
        }
        .weather-details div {
            display: flex;
            justify-content: space-between;
            padding: 4px 0; /* Reduced padding */
            border-bottom: 1px dotted #ccc;
        }
        .weather-details div:last-child, .weather-details div:nth-last-child(2) {
            border-bottom: none;
        }
        .forecast-table {
            width: 95%; /* Increased width */
            margin-top: 15px; /* Reduced margin */
            border-collapse: collapse;
            font-size: 0.75em; /* Reduced font size */
        }
        .forecast-table th, .forecast-table td {
            border: 1px solid #eee;
            padding: 6px; /* Reduced padding */
            text-align: center;
        }
        .forecast-table th {
            background-color: #f0f0f0;
            color: #003A52;
        }
        /* Exchange Rate Specific Styles */
        .exchange-rate-info {
            margin-bottom: 10px; /* Reduced margin */
        }
        .exchange-rate-info #current-exchange-rate-value {
            font-size: 2em; /* Reduced font size */
            font-weight: bold;
            color: #00657e;
            margin-bottom: 8px; /* Reduced margin */
        }
        .exchange-rate-chart-container {
            position: relative;
            height: 200px; /* Increased height for exchange rate chart */
            width: 95%; /* Increased width */
            margin: 0 auto;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="container">
        <header>
            <h1>Global Shipping Index Dashboard</h1>
            <p class="text-gray-600" id="last-updated">Last Updated: Loading...</p>
        </header>

        <div class="dashboard-grid">
            <aside class="sidebar">
                <!-- Top Info Slider Container -->
                <div class="top-info-slider-container">
                    <!-- Slide 1: World Clocks -->
                    <div class="top-info-slide active" id="top-info-slide-1">
                        <h3>World Clocks</h3>
                        <div class="world-clock-item">
                            <span>Los Angeles</span>
                            <span id="time-la"></span>
                        </div>
                        <div class="world-clock-item">
                            <span>New York</span>
                            <span id="time-ny"></span>
                        </div>
                        <div class="world-clock-item">
                            <span>Paris</span>
                            <span id="time-paris"></span>
                        </div>
                        <div class="world-clock-item">
                            <span>Shanghai</span>
                            <span id="time-shanghai"></span>
                        </div>
                        <div class="world-clock-item">
                            <span>Seoul</span>
                            <span id="time-seoul"></span>
                        </div>
                        <div class="world-clock-item">
                            <span>Sydney</span>
                            <span id="time-sydney"></span>
                        </div>
                    </div>

                    <!-- Slide 2: Weather Info -->
                    <div class="top-info-slide" id="top-info-slide-2">
                        <h3>Weather in Los Angeles</h3>
                        <div class="weather-current-info">
                            <img id="weather-icon-current" src="https://placehold.co/80x80/cccccc/ffffff?text=Icon" alt="Weather Icon">
                            <span id="temperature-current">--°F</span>
                            <span id="status-current">Loading...</span>
                        </div>
                        <div class="weather-details">
                            <div><span>Humidity:</span> <span id="humidity-current">--%</span></div>
                            <div><span>Wind:</span> <span id="wind-speed-current">-- mph</span></div>
                            <div><span>Pressure:</span> <span id="pressure-current">-- hPa</span></div>
                            <div><span>Visibility:</span> <span id="visibility-current">-- mile</span></div>
                            <div><span>Sunrise:</span> <span id="sunrise-time">--</span></div>
                            <div><span>Sunset:</span> <span id="sunset-time">--</span></div>
                            <!-- Removed Fine Dust -->
                        </div>
                        <table class="forecast-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Min</th>
                                    <th>Max</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="forecast-body">
                                <!-- Forecast rows will be injected here by JS -->
                                <tr><td>--</td><td>--</td><td>--</td><td>--</td></tr>
                                <tr><td>--</td><td>--</td><td>--</td><td>--</td></tr>
                                <tr><td>--</td><td>--</td><td>--</td><td>--</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Slide 3: Exchange Rate Info -->
                    <div class="top-info-slide" id="top-info-slide-3">
                        <h3>USD to KRW Exchange Rate</h3>
                        <div class="exchange-rate-info">
                            <p>Current Rate: <span id="current-exchange-rate-value">Loading...</span></p>
                        </div>
                        <div class="exchange-rate-chart-container">
                            <canvas id="exchangeRateChartCanvas"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- Announcements Section -->
                <div class="announcements-section">
                    <h2>Announcements</h2>
                    <ul class="announcements-list">
                        <li>식사후 건더기를 제외한 국물은 그라인더를 켠 상태로 싱크대에 비워주시고 나머지 쓰레기는 1층 Warehouse 남자 화장실 앞 쓰레기 통에 버려주세요.</li>
                        <li>버리러 갈 때는 Warehouse 계단이 아닌 Office 계단을 통해 이동해주시고 한 쪽에 쓰레기가 몰리지 않도록 2개의 쓰레기 통에 적절히 분배해주세요.</li>
                        <li>건물 내 커피 및 국물 등 액체류를 흘리는 경우 본인이 즉시 치워서 바닥에 얼룩 지는 일을 방지해주세요.</li>
                        <li>쥐, 바퀴 및 파리 등 해충 발생을 방지하기 위해 퇴근할 때는 과자 등 음식물을 책상에 보관하지 마시고 버리거나 집에 가져가주세요.</li>
                        <li>미관과 호흡기 건강을 위해 매주 금요일 퇴근 전에는 본인 및 주변 책상의 먼지 및 얼룩을 닦아서 제거해주세요.</li>
                    </ul>
                </div>
            </aside>

            <main>
                <div class="chart-slider-container">
                    <!-- Chart 1: KCCI Composite Index & Routes -->
                    <div class="chart-slide active" id="chart-slide-1">
                        <div class="chart-section">
                            <h2>KCCI Indices</h2>
                            <div class="chart-container">
                                <canvas id="KCCIChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Chart 2: SCFI Composite Index & Routes -->
                    <div class="chart-slide" id="chart-slide-2">
                        <div class="chart-section">
                            <h2>SCFI Indices</h2>
                            <div class="chart-container">
                                <canvas id="SCFIChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Chart 3: WCI Composite Index & Routes -->
                    <div class="chart-slide" id="chart-slide-3">
                        <div class="chart-section">
                            <h2>WCI Indices</h2>
                            <div class="chart-container">
                                <canvas id="WCIChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Chart 4: IACI Composite Index -->
                    <div class="chart-slide" id="chart-slide-4">
                        <div class="chart-section">
                            <h2>IACI Composite Index</h2>
                            <div class="chart-container">
                                <canvas id="IACIChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Chart 5: BLANK_SAILING Stacked Bar Chart -->
                    <div class="chart-slide" id="chart-slide-5">
                        <div class="chart-section">
                            <h2>Blank Sailings by Alliance</h2>
                            <div class="chart-container">
                                <canvas id="blankSailingChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Chart 6: FBX Indices -->
                    <div class="chart-slide" id="chart-slide-6">
                        <div class="chart-section">
                            <h2>FBX Indices</h2>
                            <div class="chart-container">
                                <canvas id="FBXChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Chart 7: XSI Indices -->
                    <div class="chart-slide" id="chart-slide-7">
                        <div class="chart-section">
                            <h2>XSI Indices</h2>
                            <div class="chart-container">
                                <canvas id="XSIChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Chart 8: MBCI Indices -->
                    <div class="chart-slide" id="chart-slide-8">
                        <div class="chart-section">
                            <h2>MBCI Indices</h2>
                            <div class="chart-container">
                                <canvas id="MBCIChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <footer>
            <p>&copy; 2024 OptiSign. All rights reserved.</p>
        </footer>
    </div>

    <!-- Chart.js library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <!-- Custom JavaScript for charts and dashboard logic -->
    <script src="js/chart.js"></script>
</body>
</html>
